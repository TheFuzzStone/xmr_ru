---
title: "CT-002: Сборка Monero CLI из исходного кода"
date: "2022-10-24"
categories:
  - "Статьи"
  - "Cypherpunk Transmission"
tags:
  - "Cypherpunk Transmission"
thumbnail: "img/copyright/cypherpunk-transmission/ct-002.png"
lead: "Это второй отчёт из новой серии 'Cypherpunk Transmission'"
pager: true
toc: true
sidebar: "right"
---

## _Мотивация_

Абсолютно любой пользователь может скачать, запустить и установить двоичные файлы, созданные кем-то другим. Однако, немногие создают свои собственные программы, несмотря на следующие преимущества:
- безопасность (отсутствие необходимости в использовании потенциально взломанных двоичных файлов; можно всецело полагаться на целостность исходного кода);
- контроль (сборка для любого дистрибутива, оборудования, возможность добавления/удаления опций);
- опыт (возможность стать контрибьютором FLOSS).

Сборка на базе исходного кода, как правило, включает в себя ряд шагов, таких как компиляция, компоновка, выполнение автоматизированных тестов и пакетирование. Новому пользователю всё это может показаться ужасно сложным, что, конечно же, не так.

Ознакомившись с процессом, вы также сможете внести свой вклад в понравившиеся вам открытые проекты, такие как Monero.

## _Предварительные условия_

- Наличие доступа (sudo) к машине GNU/Linux (на базе Debian)ю
- Наличие 1 Гб свободного дискового пространства и часа свободного времени.
- Отсутствие страха.

## _Компиляция Monero CLI_

Попрактикуемся, скомпилировав на базе исходного кода официальный CLI-кошелёк Monero.

### 1. _Установка зависимостей_

Скопируйте эту длинную команду в консоль, чтобы обновить пакеты, установить git и все зависимости:

```
sudo apt update && sudo apt upgrade -y && sudo apt install build-essential cmake pkg-config libssl-dev libzmq3-dev libunbound-dev libsodium-dev libunwind8-dev liblzma-dev libreadline6-dev libexpat1-dev libpgm-dev qttools5-dev-tools libhidapi-dev libusb-1.0-0-dev libprotobuf-dev protobuf-compiler libudev-dev libboost-chrono-dev libboost-date-time-dev libboost-filesystem-dev libboost-locale-dev libboost-program-options-dev libboost-regex-dev libboost-serialization-dev libboost-system-dev libboost-thread-dev python3 ccache doxygen graphviz git
```

### 2. _Получение исходного кода_

Рекурсивно клонируйте репозиторий и измените директорию на корневую директорию исходного кода:

```
git clone --recursive https://github.com/monero-project/monero && cd monero
```

### 3. _Сборка_

Скомпилируйте наиболее стабильную версию Monero:

```
git checkout release-v0.18 && make
```

Готово! Выполняемые файлы (включая `monerod` и `monero-wallet-cli`) можно найти здесь: `build/Linux/release-v0.18/release/bin`.

_Следует отметить, что завершение процесса может занять какое-то время._

## _Примечания_

- Чтобы скомпилировать и протестировать самое последнее (и нестабильное) программное обеспечение, следует использовать команду `git checkout master && make`.
- Чтобы запустить параллельную сборку, вместо команды `make` следует использовать `make -j <number of threads>` (требуется наличие минимум 1 ядра и 2 Гб на поток).
- Чтобы построить и запустить опциональные тесты для проверки двоичных файлов, следует использовать команду `make release-test` (на это могут уйти часы).
- Для реализации сборки под другие дистрибутивы/аппаратное обеспечение и получения дополнительной информации о различных вариантах сборки, необходимо ознакомиться с официальной документацией.
- Вы также можете поэкспериментировать, занявшись сборкой другого связанного программного обеспечения на базе исходного кода (например, Monero GUI, XMRig, P2Pool).

Если в процессе вы обнаружите какие-либо ошибки или что-то интересное, свяжитесь с другими контрибьюторами Monero.

---

## _Обратная связь_

Если эта статья показалась вам полезной, заинтересовала вас, дайте мне знать, и я сделаю всё возможное, чтобы публиковать подобные отчёты Cypherpunk Transmission каждый (второй?) понедельник.

Вопросы, правки и предложения приветствуются.

Благодарю gnuteardrops из [monero.graphics](https://monero.graphics/) за потрясающую графику xkcd. Работа и шрифт xkcd лицензированы в соответствии с [CC BY-NC 3.0](https://github.com/ipython/xkcd-font/blob/master/LICENSE).

---

_Источник: [CT-002: Building from source - Monero CLI](https://monero.observer/cypherpunk-transmission-002-building-from-source-monero-cli/)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
