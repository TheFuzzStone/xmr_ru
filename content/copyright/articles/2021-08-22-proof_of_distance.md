---
title: "«Доказательство расстояния» - научно-фантастический рассказ в стиле Monero"
date: "2020-08-22"
categories:
  - "Статьи"
tags:
  - "Научно-фантастический рассказ"
lead: "Я еще не знал, какое интересное путешествие начнётся, когда Джейсон впервые связался со мной около года назад."
pager: true
toc: false
sidebar: "right"
---

«Привет, rbrunner7! Ты пишешь научно-фантастические рассказы о Monero, и, судя по ним, ты предпочитаешь думать наперёд и мыслить масштабно. Ты мог бы помочь в одном деле, также связанным с возможным будущим Monero. Мне удалось заинтересовать тебя?»

Мой ответ был несколько осторожным, так как я прекрасно понимал, что не каждый человек, которого привлекает Monero, автоматически стоит моего времени и усилий: «Возможно. Не мог бы ты рассказать немного подробнее? Если хочешь, я буду относиться ко всей полученной информации как к конфиденциальной».

«Хорошо. Я хочу поработать над расширениями Monero, которые сделают её пригодной для межпланетного использования. Только представь: Monero — первая криптовалюта, которая будет использоваться человечеством в ходе исследования и колонизации солнечной системы!»

---​

Это действительно звучало очень интересно и заманчиво, поэтому я решил довериться этому человеку и продолжить наш разговор: «Круто! У тебя действительно высоко стремящиеся цели! Будет интересно посмотреть, что у тебя получится. А каковой будет моя роль во всём этом?»

«По сути, ты сможешь заниматься всем тем, что тебе нравится и на что у тебя будет время. Мне, безусловно, понадобится кто-нибудь, кто будет играть роль спарринг-партнера, кто-нибудь, с кем я смогу поделиться своими идеями и проверить их, чтобы публично не рассказывать о вещах, которые совершенно не работают, выставляя себя дураком. И если ты готов продолжить и вместе со мной проработать некоторые концепции, то я готов разделить славу».

«Договорились. Можешь рассчитывать на меня. Свяжись со мной, когда у тебя будет что-то, над чем мы сможем вместе поработать».

Несколько дней спустя Джейсон появился вновь и поделился тем, что у него было:

«Кажется довольно очевидным, что Марс станет первой планетой, которая будет колонизирована. Таким образом, переходя к конкретике, предлагаю задаться вопросом, что это значит — совершить транзакцию Monero, находясь там и имея необходимость заплатить за что-то непосредственно на месте? Допустим, вашему личному марсоходу нужен новый аккумулятор, а XMR — один из вариантов оплаты. Так что же делать, если ты находишься в аккумуляторной мастерской?»

«Было бы разумно предположить, что у нас есть постоянный радиоконтакт с Землёй, который позволит провести транзакцию Monero с Марса на Землю, где работает сеть Monero, а также отправить новые блоки с Земли на Марс, чтобы мы могли синхронизировать демона».

«Расстояние между Землёй и Марсом постоянно меняется. На минимальном расстоянии свету и радиосигналам требуется немногим более 3 минут, чтобы преодолеть дистанцию между двумя планетами, на максимальном расстоянии — чуть более 22 минут. Вероятно, в рамках нашей концепции лучше всего будет использовать среднее значение, что составит около 12,5 минут».

«Итак, ты готовишь транзакцию Monero на Марсе, отправляешь её на Землю для включения в блок и ждёшь, пока этот блок не будет получен в качестве подтверждения того, что всё в порядке. В среднем время ожидания подтверждения будет составлять примерно 26 минут: 25 минут — время прохождения сигнала и половина обычного времени блока Monero, равного двум минутам, после чего транзакция будет включена в блок».

«Честно говоря, звучит неплохо, и я даже сомневаюсь, что Monero, межпланетная версия протокола, вообще нуждается в добавлении каких-либо новых механизмов».

Я был настроен скептически. «Вы имеете в виду, что в среднее время ожидание, равное 26 минутам, прежде чем ты сможешь покинуть магазин с новым аккумулятором, является приемлемым?»

Джейсон подтвердил: «Думаю, да, учитывая, что многие вещи будут занимать больше времени, чем на Земле, или в принципе будут более сложными. Люди потерпят».

Я всё ещё не был готов согласиться: «Что ж, учитывая, что это Марс, 26 минут - вполне реальное значение. Но ведь позже люди отправятся дальше, в пояс астероидов и за его пределы. Твоя проблема, связанная с задержкой, со временем будет только усугубляться».

«Кроме того, учти, что Monero, вероятно, придётся конкурировать с традиционным банковским сектором, который также последует за людьми на Марс. Bank of America и Mars Corp., филиал Olympus Mons — все они будут открывать счета прямо на Марсе. И, конечно же, кредитные карты. При помощи магии привлечения доверенных третьих сторон ты сможешь оплатить свой аккумулятор без каких-либо задержек. Как Monero сможет конкурировать с этим, если время ожидания будет составлять 26 минут?»

Джейсон оказался готовым к такому доводу: «Не стоит волноваться. И знаешь, почему? Потому что рано или поздно колонии на Марсе станут достаточно большими, чтобы запустить свою собственную сеть Monero Mars, а это, в свою очередь, позволит нам иметь локальный баланс XMR. Конечно, технически это будет вторая криптовалюта, работающая параллельно с Monero, используемой здесь, на Земле, и не предполагающая прямого эквивалента монет. Но наверняка будет несложно создать какой-нибудь сервис для обмена этих двух Monero. В случае если у вас мало марсианских монет, но много монет Земли, вы просто меняете некоторые из них, и этот процесс, занимающий 26 минут в неделю или около того, и это действительно больше не будет представлять из себя проблемы».

Я был вынужден признать, что Джейсон в данном случае был прав: «Да, создание такой собственной сети Monero на Марсе сразу же лишает всё предприятие его значительной части, которая могла бы принести удовольствие».

«Что именно ты имеешь в виду?»

«Удовольствие от разработки некоторых новых интересных механизмов для реализации межпланетной Monero! Нет, серьезно, я всё же думаю, что было бы целесообразно изучить какие-нибудь способы, позволяющие справиться с задержкой, и не прибегать к местным форкам Monero».

«Договорились».

---​

Уже на следующий день Джейсон вернулся со свежими идеями.

«Поставь себя на место продавца аккумуляторов в рамках нашего сценария, а я выступлю в роли покупателя. Ты видишь, что я отправляю транзакцию на сумму, достаточную для оплаты аккумулятора. В этот момент что тебе нужно, чтобы быть уверенным в том, что платёж в конечном итоге поступит и ты сможешь незамедлительно передать мне аккумулятор?»

«Единственный реальный риск для тебя, который непросто было бы смягчить и который я обнаружил — это возможность мошенничества, которое выглядело бы следующим образом: у моего брата Адама на Земле также есть мои приватные ключи и, следовательно, он контролирует мои монеты. Я заранее сообщаю ему, когда именно проведу транзакцию, чтобы оплатить стоимость аккумулятора. Спустя какое-то время после этого, но задолго до того, как моя транзакция достигнет Земли, Адам инициирует идентичную транзакцию. Выполнение его транзакции превратит мою транзакцию в попытку двойной траты, то есть она не будет проведена, поскольку XMR уже будут израсходованы».

«Результат: у тебя станет на один аккумулятор меньше, но ты не получишь за него XMR, и пока ты заметишь это, я буду уже далеко, ведь у меня будет 26 минут форы».

«И возникает интересный вопрос: как сделать так, чтобы эту аферу невозможно было провернуть? В принципе это выглядит так: нам нужны монеты Monero или, если говорить техническим языком, выходы транзакций, которые можно было бы потратить только на Марсе, но не на Земле».

«Я назвал этот подход «доказательством расстояния»: когда мой кошелек Monero создает транзакцию, он использует только те выходы, которые были заблокированы на Марсе, а затем добавляет некоторые дополнительные данные, которые доказывают, что всё это действительно происходит на Марсе, данные, являющиеся, по сути, доказательством удалённости от Земли. Любая транзакция, не имеющая такого действительного доказательства, не будет проведена позже на Земле, а будет попросту отклонена. Таким образом, Адам не сможет потратить монеты для приобретения аккумулятора раньше. Его кошелёк, поскольку он будет инициировать транзакцию здесь, не сможет предоставить необходимого доказательства».

Я был заинтригован, но всё ещё не убеждён в полной мере: «С точки зрения общего подхода это звучит довольно интересно, но и некоторым образом неосуществимо. Согласись, у тебя пока нет ни малейшего представления, как построить доказательство с такими фантастическими свойствами, верно?»

«Да, но у меня определённо есть ощущение, что я кое-что понял. До связи!»

---​

Большинство звезд светит с довольно постоянной яркостью. Так называемая «светимость» ближайшей звезды, Солнца, колеблется в пределах всего 0,1% и довольно медленно, в основном в зависимости от того, сколько солнечных пятен на её поверхности имеется на данный момент.

Есть звезды с гораздо более переменной яркостью. Для большинства из них характерно регулярное и предсказуемое изменение яркости в течение различных периодов. Но есть небольшая часть звёзд, меняющих свою яркость нерегулярным образом. Их можно назвать астрономическими случайными генераторами: по их яркости на текущий момент вы никогда не сможете сказать заранее, что произойдёт дальше, будет ли яркость повышаться или понижаться, или же она останется постоянной в течение какого-то времени.

А теперь представьте, что вы сидите на Марсе и наблюдаете за такой звездой, которая находится более или менее в противоположном направлении от Земли, если смотреть с Марса. Свет этой звезды достигает вас на несколько минут раньше, чем любого другого наблюдателя, находящегося на Земле. Так что если произойдёт крайне резкое изменение её яркости, вы узнаете об этом тогда, когда люди здесь, на Земле, вероятно, знать этого ещё не будут. И это неоспоримый факт, основанный на физике, и, насколько известно, с ним нельзя не считаться.

Также предположим, что кто-то на Марсе поддерживает доверенный источник времени: если у вас есть какие-то данные, такая служба сможет создать для них подпись, которую будет невозможно подделать и в которой будут указаны точные дата и время, когда была создана такая подпись. Дата и подпись имеют неразрушимую связь, и если вы измените дату или подпись каким-либо образом, вся конструкция гарантированно станет недействительной.

Транзакция Monero с доказательством расстояния будет выглядеть следующим образом: «Данная транзакция была совершена, когда яркость звезды (с нерегулярной яркостью) со звёздными координатами x, y, z, если смотреть с Марса, изменилась с 7,0 до 7,1 в течение минуты, закончившейся 05.03.2035 15:10:00 по Мировому времени Марса. См. прикреплённую подпись доверенной службы времени Valles Marineris, позволяющую проверить целостность транзакции, а также данные об изменении яркости и время их записи. Это достоверное доказательство расстояния, так как в указанное время только кто-то, находящийся далеко от Земли, мог знать об этом конкретном изменении яркости».

Демоны Monero на Земле, имея доступ к базе данных с записями изменений яркости звезд, могут позже проверить доказательство и выполнить транзакцию, если она будет действительна.

Presto — транзакции Monero, которые можно создавать, только находясь далеко от Земли!

Однако в данном случае есть по крайней мере одна философская проблема. Одна из самых выдающихся и исключительных особенностей таких криптовалют, как Monero, заключается в том, что они «не требуют доверия». Вам не приходится доверять кому бы то ни было в том плане, что этот кто-то будет делать всё «правильно». Всё настроено таким образом, чтобы все вовлечённые стороны не могли вести себя иначе, независимо от их намерений. Как бы люди ни хотели потратить свои монеты дважды, они не смогут сделать этого. Как бы сильно люди ни хотели переписывать блоки в блокчейне, чтобы их монеты снова оказались не потраченными, они не смогут сделать этого.

Вот почему доверенный источник времени для подписания транзакций на Марсе действительно не подходит. Проблема тут, конечно, в слове «доверенный». Если операторы источника времени решат более не поступать правильно и начнут подписывать транзакции, используя неправильные временные метки, чтобы незаконные транзакции выглядели, как законные, вы мало что сможете сделать. Вам приходится доверять их честности, а это далеко не идеальный вариант.

---​

Когда я описал свою схему изменения яркости звёзд Джейсону, он ответил: «Как я вижу, мы думали примерно в одном русле! И мне уже нравится это название, «доказательство расстояния». Но я думаю, что смогу предложить более хорошую схему, чем у тебя. Я предлагаю систему, не требующую наличия доверенного источника времени. Она будет основана на альфа-излучении».

«Как тебе, вероятно, известно, слово «излучение» может произвести неверное впечатление, поскольку оно не означает «истинного»излучения, такого как свет или радиоволны. Имеются в виду частицы: атомы гелия или, если быть более точными, их ядра без электронов, которые перемещаются в космосе со скоростью, составляющей несколько процентов от скорости света. По всему небу разбросаны различные источники альфа-излучения различной интенсивности и длительности».

«К моей транзакции в качестве доказательства прилагаются следующие данные: эта транзакция была создана сразу после того, как сильный всплеск альфа-излучения с интенсивностью A из звёздных координат x, y, z достиг Марса».

«И вот в чём тут хитрость: транзакция плюс доказательство, переданные по радиоканалу на Землю, прибудут намного раньше, чем указанный всплеск альфа-излучения, потому что последний распространяется намного медленнее. После получения моей транзакции демоны Monero на Земле смогут подождать и убедиться, действительно ли указанный всплеск случится позже, в ожидаемое время. Если это произойдёт, транзакция будет подтверждена».

«По сути, принцип тот же: только кто-то, находящийся далеко от Земли в правильном направлении, может так рано наблюдать этот всплеск, пронизывающий Солнечную систему. Разница, конечно же, заключается в том, что благодаря задержке времени прибытия на Землю, необходимость в доверенной третьей стороне отсутствует».

Я согласился с Джейсоном, сказав, что это более хороший подход к решению проблемы доверия. Однако всё же было неясно, достаточно ли часты всплески альфа-излучения, которые можно было бы использовать, чтобы эта схема работала. А из-за низкой скорости типичного альфа-излучения время подтверждения транзакции увеличивалось до 3 часов или около того, что, конечно, было далеко от идеала. Добавьте к этому тот прискорбный факт, что альфа-излучение не достигает поверхности Земли, поскольку оно поглощается атмосферой. Чтобы обнаружить и измерить его, необходимо находиться в космосе, используя при этом спутник, находящийся на орбите Земли, например.

Кроме того, также не было до конца ясно, как организовать максимально надёжное измерение яркости звёзд и обнаружение вспышек альфа-излучения. Ведь никому не нужно, чтобы третья сторона сообщала ложную информацию или просто придумывала значения изменений яркости или сами всплески.

Но мы уже были на верном пути и делали успехи.

---​

2028 год. Первый полностью финансируемый из частных средств марсоход «Слегка помятый» приземляется на поверхности Марса через несколько минут после отстыковки от орбитальной станции «Последний корабль 2». Его основная задача состоит в разведке местности для исследования возможности будущих посадок SpaceX на Марс с экипажем на борту.

Через несколько дней состоится ещё одна премьера: главный бортовой компьютер запустит приложение-кошелёк и демон Monero, после чего будет проведена первая криптовалютная транзакция на другой планете. Это экспериментальное программное обеспечение, использующее доказательство расстояния, придуманное Джейсоном несколькими годами ранее.

Безусловно, это делается в основном для рекламы. И всё же, Илону Маску настолько понравились попытки сообщества Monero по созданию межпланетной монеты, что он решил сделать Monero официальной криптовалютой SpaceX. А дальше будет только больше.

---

_Источник: ["Proof of Distance" - A Monero Science Fiction Short Story](https://rbrunner7.github.io/proof_of_distance.html)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
