---
title: "Журнал встречи исследовательской лаборатории Monero от 08.01.2020"  
date: "2020-01-08"  
categories:  
  - "Журнал встречи"  
---

_**Когда:**_ Среда, 8 января 2020 г., 18:00 UTC  
_**Где:**_ #monero-research-lab (freenode/matrix)  

_**Повестка дня:**_  
1. Приветствия
2. Круглый стол
3. Вопросы
4. Ключевые моменты

_**Журнал встречи:**_

_**\<sarang>**_ ВСЕМ добро пожаловать  
_**\<almutasim>**_ Hi.  
_**\<binaryFate>**_ hi hi  
_Isthmus запускает волну из рук_  
_**\<sarang>**_ Давайте сразу начнём с круглого стола  
_**\<sarang>**_ Препринт Triptych с новой связываемой конструкцией кольцевых подписей, которую, в свою очередь, можно расширить для использования в транзакциях, уже находится в архиве IACR.  
_**\<sarang>**_ ссылка: https://eprint.iacr.org/2020/018  
_**\<sarang>**_ CoinTelegraph уже опубликовал статью об этом (но обратите внимание, что в представленных там данных есть ошибки, которые, они сказали, будут исправлены в ближайшее время)  
_**\<sarang>**_ я хочу обновить данные о размере и времени, чтобы правильно учитывать проверку пакетов и обеспечить справедливое сравнение  
_**\<sarang>**_ еще была проделана огромная работа над многоиндексной версией документа Triptych  
_**\<sarang>**_ что еще больше позволит улучшить производительность  
_**\<sarang>**_ также я написал MPC для этой версии Triptych, которая была бы полезна для работы с мультиподписями  
_**\<sarang>**_ и в дополнение я работаю над вопросами, относящимися к разделу математики, которые я уже как-то задавал авторам оригинальной статьи  
_**\<sarang>**_ Кто-нибудь еще хочет поделиться своей исследовательской работой?  
_**\<almutasim>**_ Когда будет подходящий момент, мы могли бы выпустить пресс-релиз статью о Triptych. Monero Outreach может поспособствовать в этом деле. Например, перед тем как всё уйдет на релиз  
_**\<sarang>**_ Чтобы внести ясность - нет никаких гарантий, что Triptych или другая конструкция пригодны для развертывания в основной сети  
_**\<almutasim>**_ точно  
_**\<Isthmus>**_ У меня есть кое-какой анализ *дактилоскопии*, и n3ptune только что закончил довольно крутой сетевой анализ  
_**\<sarang>**_ ОоОоо  
_**\<sarang>**_ Isthmus: Что вам удалось обнаружить?  
_**\<Isthmus>**_ мои заметки о дактилоскопии не являются чем-то новым или выдающимся, просто идея, которая может сделать представление данных более интуитивным. Итак, я думаю о каком-то абстрактном снятии отпечатков с кошелька. Что что-то вроде — если каждая транзакция находится в каком-то углу гиперкуба в многомерном пространстве, состоящем из разных эвристик. Яба-даба-дууу!  
_**\<Isthmus>**_ несмотря на то, что я работаю с наборами логических функций напрямую на сервере, мне нужен рабочий способ выводить результаты  
_**\<Isthmus>**_ моя первая попытка: https://mitchellpkt.github.io/fingerprint.html  
_**\<sarang>**_ Эмм, вы не можете представить себе визуализацию многомерных гиперкубов ? =p  
_**\<Isthmus>**_ lol  
_**\<Isthmus>**_ Это связано с тем, что @suraeNoether добавляет результаты, понятные и читаемые человеком, к сопоставлению своих графиков  
_**\<sarang>**_ Мне нравится такая идея перечисления  
_**\<Isthmus>**_ Спасибо! Он полагает, что это также простой и интуитивный способ передачи данных в виде CSV таблицы с двумя столбцами, и другие заинтересованные могут выполнять сопоставление строк на участках, которые они считают подходящими для данного анализа  
_**\<suraeNoether>**_ Извините-извините! Я тут! Немного не подрасчитал время  
_**\<sarang>**_ Isthmus: Есть ли что-то, что вы могли бы нам рассказать о сетевом анализе, который вы упомянули?  
_**\<n3ptune>**_ Re: я собрал и проанализировал данные и сроки появления блоков от большинства узлов, которые у меня записаны, за последние 6 месяцев  
_**\<sarang>**_ Здорово!  
_**\<sarang>**_ Что в итоге?  
_**\<n3ptune>**_ у Isthmus есть заметки, а мне нужно еще немного доработать мой код. Готовые графики вы можете посмотреть здесь: https://github.com/noncesense-research-lab/archival_network/wiki/Block-propogation-time  
_**\<Isthmus>**_ Это был вопрос, который задал @moneromooo, верно?  
_**\<Isthmus>**_ единицы измерения - это размер в байтах и временные метки в миллисекундах, я ничего не перепутал?  
_**\<suraeNoether>**_ это был мой вопрос ^  
_**\<n3ptune>**_ мы использовали эту формулу, где NRT - это отметка со стороны узла : prop_time_lower_bound(h) = MAX[NRT(h,1), NRT(h,2), NRT(h,3)] - MIN[NRT(h,1), NRT(h,2), NRT(h,3)]  
_**\<sarang>**_ разве там есть изменяющиеся показатели?  
_**\<sarang>**_ это всё разные узлы?  
_**\<sgp>**_ Доброго времени  
_**\<n3ptune>**_ Да, данные с 4 узлов  
_**\<sarang>**_ понял  
_**\<suraeNoether>**_ таким образом, время опорной точки блока составляет не менее 0,1 сек. Что весьма интересно  
_**\<Isthmus>**_ разброс на графике - высота от темного = старого к светлому = новому  
_**\<Isthmus>**_ ^ цветовая градация  
_**\<sarang>**_ И каковы различия между меткой времени, сообщаемой майнером, и временем узла при ее получении?  
_**\<Isthmus>**_ Отметки времени, которые сообщает майнер, нигде в этом исследовании не рассматриваются  
_**\<Isthmus>**_ но мы сделали это исследование в другом тесте  
_Isthmus копается в github_  
_**\<suraeNoether>**_ хм, что тогда измеряется в качестве времени опорной точки?  
_**\<sarang>**_ получается, что эти блоки передаются только между вашими узлами?  
_**\<sarang>**_ и где вы смотрите местное время при отправке и получении?  
_**\<Snipa>**_ ^ хороший вопрос! минимальное время распространения кажется низким, так как 100 мс это критично мало, учитывая время, которое необходимо для распространения по всей сети  
_**\<sarang>**_ Хорошо, я перефразирую вопрос: как рассчитывается NRT  
_**\<n3ptune>**_ это разница во времени между узлами, получающими одинаковые блоки  
_**\<sarang>**_ понял  
_**\<Isthmus>**_ Да, блоки ходят не только между нашими тестовыми узлами  
_**\<n3ptune>**_ NRT берётся из системного времени узла, когда приходит блок  
_**\<sarang>**_ Значит, независимо от того, кем он был получен  
_**\<sarang>**_ (что будет разниться)  
_**\<sarang>**_ было бы интересно увидеть разницу между сообщаемым майнером временем (которое может быть неточным) и временем получения информации узлом  
_**\<suraeNoether>**_ хммммм  
_**\<endogenic>**_ o/  
_**\<Isthmus>**_ https://usercontent.irccloud-cdn.com/file/brPsQyeU/image.png  
_**\<Isthmus>**_ это для тебя, @sarang  
_**\<sarang>**_ что мы действительно видим на этом графике, так это не время распространения, а неустойчивость в одном слое временного распространения  
_**\<sarang>**_ здесь = начальные участки  
_**\<Snipa>**_ Мне нужно проверить логи пула, и я смог бы предоставить дополнительные данные, если, конечно, вам это интересно. Мы начали регистрировать разницу во времени, когда узел находит блок и когда этот блок сохраняется в локальной базе данных, что в свою очередь подразумевает, что он обрабатывался локальным узлом  
_**\<suraeNoether>**_ дела...  
_**\<suraeNoether>**_ здорово  
_**\<sarang>**_ очень большой показатель времени  
_**\<Isthmus>**_ @Snipa, великолепно!  
_**\<Isthmus>**_ «что мы действительно видим на этом графике, так это не время распространения, а неустойчивость в одном слое временного распространения» _**\< можете уточнить?  
_**\<suraeNoether>**_ хорошо, это то, сколько времени требуется блоку для ретрансляции от одного узла к другому  
_**\<sarang>**_ Я имею в виду, что для таких графиков, которые вы показали, нельзя напрямую интерпретировать время ретрансляции блока вашим узлом сразу после того, как он найден  
_**\<sarang>**_ suraeNoether: нет  
_**\<suraeNoether>**_ нет?  
_**\<Isthmus>**_ Да, именно по этой причине мы отметили все оси как «нижняя временная граница»  
_**\<Isthmus>**_ кроме того, мы можем утверждать тот факт, что где-то в штате Небраска есть *старый компьютер* с очень медленным подключением к сети, но это не имеет смысла  
_**\<sarang>**_ suraeNoether: он смотрит на разницу во времени получения, неважно какой *маршрут* проделал блок  
_**\<Snipa>**_ Хм, на самом деле я смогу предоставить данные глобального распространения блоков, так как у каждого узла есть лог, который мы можем посмотреть  
_**\<Isthmus>**_ @Snipa, да! Было-бы отлично!  
_**\<suraeNoether>**_ sarang, да, верно  
_**\<n3ptune>**_ Да, было бы отлично получить такие данные  
_**\<Isthmus>**_ Мы кое-что забыли:  
_**\<Isthmus>**_ в нашем уравнении не хватает злоумышленника  
_**\<Snipa>**_ пинганите меня чуть позже, и мы сможем всё подробно обсудить и рассмотрим формат данных  
_**\<Isthmus>**_ Конечно! Спасибо!  
_**\<suraeNoether>**_ у вас уже есть два источника информации, которые настроены на определение времени распространения, но вам нужно 3 для триангуляции, аля сейсмическое обнаружение эпицентров  
— Isthmus ставит разговор на паузу и обещает вернуться через 3-6 минут  
_**\<sarang>**_ Isthmus, не оставляй нас с этим наедине!  
_**\<suraeNoether>**_ я уже себе места не нахожу  
_**\<suraeNoether>**_ и еще пролил чай  
_**\<suraeNoether>**_ если бы не он, я загорелся бы из-за любопытства, что подогрел isthmus  
_**\<sarang>**_ просто подождите его на остановке... Автобус любопытства Isthmus скоро должен появиться  
_**\<sarang>**_ а пока мы его ждём, у кого-то еще есть интересная работа??  
_**\<sarang>**_ очень интересная работа  
_**\<suraeNoether>**_ пока мы ждем Isthmus, я предоставлю своё краткое обновление: после некоторых обсуждений с endo мой код стал работать значительно эффективнее, стал еще легче для понимания и более дружелюбным для отладки; я сделаю соответствующий коммит немного позже. Вся моя текущая работа сосредоточена на повторном пересмотре документа CLSAG и работой над соответствием  
_**\<n3ptune>**_ Отлично, жду дальнейших обновлений  
_**\<endogenic>**_ теперь его код помещается в одном листе блокнота..  
_**\<suraeNoether>**_ также isthmus и я разговаривали о том, чтобы создать предложение о шифровании всех временных отметок блокировок  
_**\<sarang>**_ Вы имеете в виду использование обязательств в стиле DLSAG?  
_**\<sarang>**_ Мы уже обсуждали это на предыдущей встрече  
_**\<suraeNoether>**_ на самом деле мы уже поднимали этот вопрос с isthmus, и я рассматриваю этот шаг как очень хорошее повышение всеобщей конфиденциальности, в том смысле, что это избавляет нас от формализованной информации в больших наборах данных, с которыми работает isthmus  
_**\<sarang>**_ Я могу определить размер и время, если хотите  
_**\<suraeNoether>**_ я не уверен, что это снизит размеры наших транзакций, но мы точно увидим, как это повлияет на конфиденциальность  
_**\<sarang>**_ этот параметр можно будет упаковать в контейнер bulletproof  
_**\<suraeNoether>**_ ^ хм  
_**\<sarang>**_ Да, размер не является проблемой из-за логарифмического масштабирования  
_**\<suraeNoether>**_ да, и время проверки будет быстрое, как яйца гепарда бегущие впереди него  
_**\<suraeNoether>**_ простите, у нас же встреча... я должен быть менее вульгарным.. пожалуйста, примите мои извинения  
_**\<sarang>**_ всё верно ... время проверки линейно увеличивается, но если добавить multiexp всё выравнивается  
_**\<sarang>**_ CoinTelegraph обновили свою статью: https://cointelegraph.com/news/moneros-triptych-research-could-vastly-improve-its-anonymity  
_**\<sarang>**_ Спасибо автору за то, что быстро всё исправил  
_**\<almutasim>**_ Пресс-релизу нужно уделить должное внимание  
_**\<sarang>**_ suraeNoether: самое интересное, это то, что из-за заполнения в bulletproof, для большинства актуальных транзакций не будет увеличение размера, если не считать места, занимаемого данными об обязательствах  
_**\<suraeNoether>**_ cointelegraph молодцы  
_**\<sarang>**_ (в отличие от текстового представления)  
_**\<suraeNoether>**_ sarang: можно ли использовать подобный подход для добавления зашифрованного текста сообщений?  
_**\<suraeNoether>**_ например, moneroMail  
_**\<Isthmus>**_ Извините, кто-то подрался с водителем автобуса прямо на моей остановке  
_**\<sarang>**_ Не совсем... в bulletproofs есть свободное место, которое может содержать 1-2 элемента доказательства или произвольных данных с учётом контроля случайности (мне нужно перепроверить эту информацию)  
_**\<Isthmus>**_ Эх.. Сан-Франциско...  
_**\<sarang>**_ Добро пожаловать, Isthmus  
_**\<Isthmus>**_ Хорошо, дайте мне минуту, догоню нить разговора  
_**\<Isthmus>**_ n3ptune: хотите поделиться обновлениями?  
_**\<Isthmus>**_ для блоков  
_**\<n3ptune>**_ конечно  
_**\<suraeNoether>**_ sarang, насколько я понял, места достаточно для обмена ключами, а не текста?  
_**\<sarang>**_ Ну да, всё упирается в свободное место  
_**\<n3ptune>**_ есть ли какая-то цель у тега tx_extra?  
_**\<sarang>**_ Я не помню точно, Poelstra и его друзья нашли 32 или 64 байта свободного места  
_**\<sarang>**_ n3ptune: это хороший вопрос для moneromooo и компании  
_**\<sarang>**_ Пока мы ждем обновлений от n3ptune, Isthmus, у вас есть еще что-нибудь интересное, чтобы поделиться?  
_**\<sarang>**_ или мы переходим к КЛЮЧЕВЫМ МОМЕНТАМ в соответствии с нашей повесткой  
_**\<suraeNoether>**_ я планирую усердно поработать над комментариями документа clsag, но вряд ли я смогу закончить это сегодня  
_**\<suraeNoether>**_ думаю, на этой неделе я точно закрою этот вопрос  
_**\<Isthmus>**_ назад  
_**\<suraeNoether>**_ вперед  
_**\<sarang>**_ Моя задача состоит в том, чтобы представить CLSAG (после проверки), еще я надеюсь решить вопрос с Omniring и передать обновленный документ его авторам, поработать над обновлением библиотеки кривой EC, которая необходима для проверки концептуального кода, и обновить материалы для препринтов, которые будут размещены на сайте monero  
_**\<sarang>**_ Isthmus: пожалуйста, продолжай  
_**\<sarang>**_ (о, и еще обновить данные препринта Triptych с отображением производительности)  
_**\<Isthmus>**_ https://usercontent.irccloud-cdn.com/file/gAM3VbDV/1578508953.JPG  
_**\<sarang>**_ что это такое  
_**\<Isthmus>**_ Итак, допустим, что у нас работает 100 узлов  
_**\<Isthmus>**_ если у нас есть только 2 узла, то наша схема распространения будет иметь более хаотичный характер и будет зависеть от топологии сети (предположим, что другие узлы не соединены друг с другом и запущены с ключем t_second - t_first)  
_**\<Isthmus>**_ когда мы добавим 3-й узел, он может увеличить время распространения (так как он слушает всё до или после себя), и он не может уменьшить время распространения, так как max-min  
_**\<Isthmus>**_ когда мы увеличим количество до 100 узлов, время распространения, вероятно, выровняется и мы приблизимся к истинному разумному показателю  
_**\<sarang>**_ Разве время распространения не зависит от max-min среди всех других узлов? Таким образом, третий узел может выйти за пределы двух других и повлиять на конечное значение  
_**\<Isthmus>**_ Да, в этом суть  
_**\<sarang>**_ Хорошо, должно быть я неправильно истолковал  
_**\<sarang>**_ мы не можем уменьшить его  
_**\<sarang>**_ ладно, забудьте  
_**\<Isthmus>**_ когда мы добавляем третий узел, есть вероятность (2/3), что он выйдет за пределы N=2 и увеличит время распространения, и вероятность (1/3), что он будет между первыми двумя узлами  
_**\<Isthmus>**_ извините, если я даю какое-то невнятное описание, потому что я понял это, когда ехал в автобусе  
_**\<almutasim>**_ Max-Min - весьма чувствительный показатель, особенно к выбросам  
_**\<Isthmus>**_ Хм, дай мне подумать над этим  
_**\<Isthmus>**_ упустим это сейчас  
_**\<Snipa>**_ Как именно вы *отстаете* от времени, когда получен блок? Вы настроили monerod и читаете его логи или опрашиваете RPC, чтобы определить, когда он был добавлен?  
_**\<Isthmus>**_ Это вопрос к n3ptune, он занимается разработкой данных. Все они оказались в базе данных SQL к тому времени, как я смог дорваться до них  
_**\<n3ptune>**_ настраиваю monerod  
_**\<Snipa>**_ P2P соединение?  
_**\<Isthmus>**_ для каждой высоты у нас есть свой эпсилон (зеленая линия), который является временем отставания  
_**\<n3ptune>**_ вы также можете использовать monerod --block-notify, если запускать monerod через скрипт  
_**\<Snipa>**_ --block-notify ожидает момента, когда блок будет записан, поэтому я говорю, что узлы, которые не используют SSD или NVMe, имеют гораздо более медленное время распространения, так как вы ждёте, пока информация будет записана на жесткий диск  
_**\<n3ptune>**_ ваш вариант мне нравится больше, потому что вы используете стандартный демон, но в нашем случае это не подходит  
_**\<sarang>**_ Итак, используя метрику max-min, вы предполагаете, что это выровняет размещение узлов по топологии сети?  
_**\<Isthmus>**_ Да, хотя после комментария @almutasim я хочу рассмотреть несколько других менее чувствительных показателей  
_**\<Isthmus>**_ вставьте все эти эпсилоны в гистограмму  
_**\<sarang>**_ выбросы являются узлами, которые расположены ближе к майнеру или более удалены от него топологически  
_**\<Isthmus>**_ Хм, выброс может сделать только 2 прыжка, но один из них будет очень медленным  
_**\<n3ptune>**_ P2P соединение?: нет, это происходит, когда он добавляет его в цепочку блоков, после того как он определяет, не является ли он блоком из альтернативной ветки. Всё это потому, что у нас была еще одна первоначальная цель - захватить данные из альтернативной цепочки блоков. Патч демона доступен здесь: https://github.com/neptuneresearch/monerod-archive  
_**\<Isthmus>**_ @sarang, это зависит от того, является ли определение топологического расстояния только графом p2p-связи или оно учитывает время между всплесками  
_**\<sarang>**_ верно  
_**\<Isthmus>**_ этот эпсилон - это то, чем n3ptune поделился немногим ранее, за исключением того, что теперь мы использовали max-min с 4 узлами  
_**\<Isthmus>**_ ^это я про X ось на гистограмме  
_**\<n3ptune>**_ --block-notify ждет, пока блок будет записан >> тогда я предполагаю, что этот метод делает это непосредственно в blockchain::add_new_block() или, по крайней мере, это происходит до того, как будет найдено уведомление о блоке, а не *сразу* при получении информации о блоке  
_**\<sarang>**_ Поскольку у нас почти закончилось время, жду от вас *последние* биты информации перед окончанием нашей встречи (обсуждение, конечно, может продолжаться дальше)  
_**\<Isthmus>**_ О да  
_**\<Isthmus>**_ просто замечание — tx_padding используется в реальных условиях намного чаще  
_**\<Isthmus>**_ на графике рассеивания, показанном ранее, вертикальные полосы слева направо являются пустыми блоками, и только затем идут транзакции N=1,2,3...  
_**\<sarang>**_ это вопрос для кого-то вроде moneromooo :)  
_**\<Isthmus>**_ существует разница в горизонтальной ширине и вертикальных полосах из-за различий в размерах транзакций, но переменчивость в блоках только из монетной базы была странной  
_**\<Isthmus>**_ https://xmrchain.net/tx/acdf8eac41a7a76fd899e09640db34023abff66b3ae2c9ea86e49f19c0720af4  
_**\<Snipa>**_ Не совсем, такие блоки из монетной базы довольно распространены из-за дизайна пула  
_**\<Isthmus>**_ нет, размер переменчивости блоков из монетной базы, вот что странно  
_**\<Isthmus>**_ оказывается, некоторые майнеры зачастую используют нулевое заполнение, ради интереса проверьте tx_extra в блоках из монетной базы  
_**\<sarang>**_ gadzooks  
_**\<Snipa>**_ Ничего удивительного  
_**\<Isthmus>**_ как по мне, это выглядит как умышленное заполнение  
_**\<Isthmus>**_ куча блоков с пустым пространством и с нулями в tx_extra  
_**\<Snipa>**_ возможно, что эти поля требует сам пул  
_**\<Snipa>**_ поскольку это заполнение мы используем в качестве дополнительного пространства для хранения nonce  
_**\<Isthmus>**_ «поскольку это заполнение мы используем в качестве дополнительного пространства для хранения nonce» - всё это заполнение транзакций из монетной базы  
_**\<Snipa>**_ извините, это я затупил  
_**\<Isthmus>**_ вы знаете, почему некоторые майнеры используют заполнение, а другие нет?  
— Isthmus смотрит на всех майнеров с наивным взглядом  
_**\<Snipa>**_ мне нужно посмотреть это в коде  
_**\<Isthmus>**_ вот сравнение  
_**\<Isthmus>**_ https://xmrchain.net/search?value=1988283  
_**\<Isthmus>**_ и  
_**\<Isthmus>**_ https://xmrchain.net/search?value=1985042  
_**\<Isthmus>**_ они выглядят точно так же, кроме отличия в заполнении  
— Isthmus завершает свой ход мыслей  
_**\<Isthmus>**_ В любом случае спасибо, что позволили поделиться своими мыслями  
_**\<Snipa>**_ для ознакомления: CB TXN блока содержит раздел «extras», который запрашивается у Monerod как дополнительное пространство, в которое могут быть помещены произвольные данные. Эти данные используются различными реализациями пула для одноразовых номеров в ключе каждого пула, а также любых данных пользователя или одноразовых номеров, используемых более продвинутыми методами  
_**\<Isthmus>**_ «как дополнительное пространство, в которое могут быть помещены произвольные данные»  
_Isthmus съеживается_  
_**\<Snipa>**_ Вы можете использовать эти данные различными способами, особенно, если знакомы с дизайном настроек пула, но все основные реализации пула используют это пространство одинаково  
_**\<Isthmus>**_ и какие текущие варианты использования?  
_**\<Snipa>**_ вы также можете определить, какой именно пул отправил информацию о блоке, так как пулы используют уникальные идентификаторы в определенных байтах  
_**\<Isthmus>**_ я ничего не знаю о дизайне настроек пула  
_**\<Snipa>**_ https://github.com/Snipa22/nodejs-pool/blob/master/lib/coins/xmr.js#L115  
_**\<suraeNoether>**_ для всех тех, кто заинтересован в оказании помощи на MoneroKon 2020 в Берлине, прямо сейчас проходит встреча в соседней комнате. Просто, информация для размышлений  
_**\<Snipa>**_ ^ это реализация, которая лежит в основе пулов, которые поддерживают XNP расширения  
_**\<sarang>**_ Ну вот и всё, мы официально закрываем нашу встречу  
_**\<sarang>**_ всем спасибо!  

---  

_Источник: [Research meeting: 8 January 2020 @ 18:00 UTC #425](https://github.com/monero-project/meta/issues/425)_  

_Перевод: [Unholy](https://t.me/UnholyKnight)_  
_Коррекция: [Kukima](https://t.me/Kukima)_  
