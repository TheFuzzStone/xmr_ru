---
title: "Журнал встречи исследовательской лаборатории Monero от 15.04.2020"
date: "2020-04-15"
categories:
  - "Журнал встречи"
---

_**Когда:**_ Среда, 15 апреля 2020 г., 18:00 UTC  
_**Где:**_ #monero-research-lab (freenode/matrix)  

_**Повестка дня:**_  
1. Приветствия  
2. Круглый стол  
3. Вопросы  
4. Ключевые моменты  

_**Журнал встречи:**_  

_**\<sarang>**_ Во-первых, ПРИВЕТСТВИЯ  
_**\<sarang>**_ Привет!  
_**\<ArticMine>**_ Hi  
_**\<Isthmus>**_ Heya  
_**\<UkoeHB>**_ hi  
_**\<binaryFate>**_ hi!  
_**\<sarang>**_ Хорошо, я подожду несколько минут, возможно, что к нам присоединится кто-то ещё  
_**\<sgp>**_ привет  
_**\<sarang>**_ понял, значит, переходим к КРУГЛОМУ СТОЛУ  
_**\<sarang>**_ кто-то хочет поделиться своими исследованиями?  
_**\<cankerwort>**_ Howdy  
_**\<UkoeHB>**_ https://github.com/monero-project/research-lab/issues/73  
_**\<UkoeHB>**_ для темы исследования это, конечно, слишком круто, но есть очень интересная идея  
_**\<sarang>**_ получатель легко может «потерять» свою часть расходуемых средств, особенно если ключевые значения были неправильно сформулированы на стороне отправителя  
_**\<binaryFate>**_ есть ли какая-то потенциальная проблема, если отправитель играет «не по правилам» (намеренно ломает текущую схему), но потенциально может доказать, что отправил что-то на адрес получателя?  
_**\<UkoeHB>**_ это можно отнести и к публичным ключам транзакции  
_**\<Isthmus>**_ Если отправитель не следует правилам, получатель не увидит сообщение о получении средств  
_**\<Isthmus>**_ как вариант, они могут попросить отправителя сделать транзакцию действующей  
_**\<sarang>**_ угу  
_**\<Isthmus>**_ и получается, что отправитель создал неприятный прецедент только самому себе  
_**\<sarang>**_ как в случае, когда отправитель пользуется некорректным обязательством  
_**\<sarang>**_ (за исключением свойств возможной траты)  
_**\<UkoeHB>**_ Да и вообще, если кошелек не предоставляет теги просмотра корректно, то зачем вообще нужен такой кошелек?  
_**\<Isthmus>**_ Бинго!  
_**\<UkoeHB>**_ как минимум, такой продукт требует патча  
_**\<cankerwort>**_ это будет что-то по типу «быстрое сканирование»? если отправитель испортил его каким-то образом, оно все равно будет отображаться при обычном сканировании?  
_**\<sarang>**_ да  
_**\<binaryFate>**_ они могут воспользоваться этим и составить обращение в службу поддержки биржи  
_**\<binaryFate>**_ и это повредит Monero намного сильнее, чем принесет финансовый ущерб обменникам и биржам  
_**\<UkoeHB>**_ как по мне, нужно иметь возможность сменить быструю/нормальную дифференцировку сканирования; да и сама техника очень простая в плане реализации  
_**\<sarang>**_ в кошельке должна быть опция, которая отключает данный метод сканирования  
_**\<selsta>**_ Как быстрое сканирование работает вместе с Supercop EC ASM? ASM добавит какое-то существенное ускорение для процесса сканирования?  
_**\<binaryFate>**_ здесь нужен взвешенный выбор или разумный компромисс  
_**\<Isthmus>**_ Ускорение скорости колоссально, если вы просто сканируете 1-2 адреса, то возможно, что разница не будет такой уж и большой, но что если у вас 20000 таких транзакций?  
_**\<UkoeHB>**_ Всё равно не особо представляю, как это может дать настолько большой прирост скорости  
_**\<Isthmus>**_ извините! Ошибся! *1-2 транзакции  
_**\<UkoeHB>**_ в смысле ускорение  
_**\<UkoeHB>**_ если каким-то образом у вас есть контроль над ~80% транзакций, то да, тег view поможет вам только в том случае, если (255/256)*.2  
_**\<cankerwort>**_ сканирование будет учитывать 1/256 всех транзакций + (релевантные транзакции – перекрытие)  
_**\<UkoeHB>**_ все верно  
_**\<UkoeHB>**_ «сканирование» подразумевает, что вы будете выполнять еще и другие операций  
_**\<UkoeHB>**_ на выход  
_**\<UkoeHB>**_ так что будет правильнее считать 1/256 на выход, а не на транзакцию  
_**\<Isthmus>**_ понял, спасибо  
_**\<TheCharlatan>**_ почему только один байт? два байта слишком показательный пример?  
_**\<UkoeHB>**_ это убывающая отдача  
_**\<UkoeHB>**_ изменение алгоритма сканирования на 1 или 2 байта в ключе тега view является весьма крошечным изменением  
_**\<sarang>**_ окей, запишу себе  
_**\<sarang>**_ Какие-то конкретные вопросы или идеи?  
_**\<UkoeHB>**_ или возражения  
_**\<Isthmus>**_ а вот мне всё понравилось  
_**\<TheCharlatan>**_ Да :)  
_**\<Isthmus>**_ Надеюсь, что это уменьшит количество сообщений "Y MONERO SO SLO TO SYNC" (ВАШ MONERO СИНХРОНИЗИРУЕТСЯ, КАК СЛОУПОК...) в reddit канале на 1/256  
_**\<UkoeHB>**_ да, мечтать не вредно  
_**\<cankerwort>**_ думаю, что самое лучше время для таких обновлений — в момент очередного форка  
_**\<binaryFate>**_ как бы это странно не звучало, но вы чертовски правы  
_**\<sarang>**_ получается, что на текущий момент у вас нет четкого понимания, как лучше всего выстроить первую линию обороны  
_**\<cankerwort>**_ а что насчет сокращения размеров транзакций в тех случаях, где будет постепенно увеличиваться размер колец?  
_**\<sarang>**_ в настоящее время нет конкретного плана по увеличению размера кольца, особенно для CLSAG  
_**\<sarang>**_ обратите внимание, что переход от MLSAG к CLSAG уменьшит размер стандартной транзакции 2-2 с 2,5 кБ до 1,9 кБ.  
_**\<sarang>**_ (при отсутствии дополнительного слоя проверок)  
_**\<UkoeHB>**_ а мне кажется, что такое обсуждение атаки Януса и поля extra внесло немного ясности  
_**\<sarang>**_ конечно, даже небольшой прогресс это тоже прогресс  
_**\<sarang>**_ :D  
_**\<sarang>**_ UkoeHB, у вас есть еще темы для обсуждения?  
_**\<UkoeHB>**_ не думаю, спасибо, Саранг  
_**\<sarang>**_ ОК, спасибо, UkoeHB  
_**\<sarang>**_ кто-нибудь еще хочет поделиться интересными исследованиями?  
_**\<sarang>**_ если нет, у меня есть пара вещей, которые стоит обсудить  
_**\<Isthmus>**_ я сейчас работаю над созданием графовой формализации ошибок взаимозаменяемости. Уже достигнут небольшой прогресс, по сравнению с прошлой неделей, но он все еще не совсем соответствует всем нашим принципам последовательности. Тяжело работать, когда ты настолько самокритичен к своей работе...  
_**\<Isthmus>**_ и еще я готовлю совместный проект с Insight. Один из стипендиатов подготовил патч для предотвращения излишнего перераспределения монетной базы. Сейчас это особенно полезно, когда мы используем множество дискретных выходов. Когда он закончит правки кода, я перепроверю его код еще раз и отправлю на рассмотрение / обзор  
_**\<Isthmus>**_ я хочу, чтобы как можно больше инженеров Insight работали в нашей экосистеме! Insight потратили кучу времени и ресурсов на исследования и различную помощь таким проектам, как Polkadot, ICON, Zcash и т. д., а еще я хочу привлечь свою команду к работе и попытаться внести хоть какой-то вклад в сообщество Monero  
_**\<Isthmus>**_ надеюсь, что через неделю я смогу представить нашему коллективу несколько новых участников из числа наших стипендиатов  
_**\<sarang>**_ это отлично!  
_**\<Isthmus>**_ в ближайшее время я все непременно расскажу и покажу вам  
_**\<sarang>**_ стипендиаты в каких областях?  
_**\<Isthmus>**_ у меня еще предстоит встреча со всеми потенциальными участниками, я хочу поговорить с кажлдым лично  
_**\<sarang>**_ а, понял тебя  
_Isthmus возвращает микрофон Сарангу_  
_**\<cankerwort>**_ а теперь позвольте мне откланяться и выяснить, что это вообще такое, я о Polkadot и ICON  
_**\<sarang>**_ Спасибо, Isthmus  
_**\<sarang>**_ Этот PR с увеличением скорости работы Bulletproofs уже готов к объединению: https://github.com/monero-project/monero/pull/6451  
_**\<sarang>**_ его нужно будет использовать «задним числом»  
_**\<sarang>**_ экономия составит порядка 25% для схемы с 2 выходными доказательствами  
_**\<sarang>**_ не стесняйтесь и присоединяйтесь к обзору  
_**\<ArticMine>**_ Превосходно  
_**\<cankerwort>**_ Фантастические новости  
_binaryFate аплодирует_  
_**\<sarang>**_ Во-вторых, я много работал над кодовой реализацией Triptych для более точных и детальных модульных тестов  
_**\<sarang>**_ соответствующая ветка: https://github.com/SarangNoether/monero/tree/triptych  
_**\<sarang>**_ (обратите внимание, что этот код не закончен и не должен использоваться в реальных условиях)  
_**\<sarang>**_ пример с изменением размеров: https://usercontent.irccloud-cdn.com/file/KvolrThG/size.png  
_**\<cankerwort>**_ Triptych = Triptych 2? Одна версия вытеснила другую или как?  
_**\<sarang>**_ сравнение времени проверки: https://usercontent.irccloud-cdn.com/file/4CATnXf6/timing.png  
_**\<sarang>**_ Triptych требует отдельных доказательств на вход (так же, как и MLSAG / CLSAG)  
_**\<sarang>**_ временной график использует данные теста производительности из ветки выше  
_**\<sarang>**_ серые линии центрированы в точке 11-MLSAG (для большей наглядности)  
_**\<sarang>**_ данные о синхронизации *не включают* себя некоторые незавершенные варианты оптимизаций (пакетирование и общие входные данные о наборах одних и тех же транзакций)  
_**\<sarang>**_ тем не менее это уже сейчас дает представление о том, как MLSAG, CLSAG и Triptych работают и насколько существенна между ними разница  
_**\<Isthmus>**_ здорово  
_**\<TheCharlatan>**_ а что за пересечение серой линии со значением оси x на линии Triptych?  
_**\<sarang>**_ вертикальная серая линия обозначает кольца с размером 11 для всех конструкций  
_**\<sarang>**_ горизонтальная линия - это размер / время для MLSAG при размере кольца 11  
_**\<sarang>**_ (но, опять же, это все для наглядности)  
_**\<sarang>**_ и как минимум должно помочь в наглядном сравнении  
_**\<ArticMine>**_ какое это окажет влияние на размер транзакций?  
_**\<sarang>**_ каждый вход транзакции (именно вход, а не элемент вызова или уже потраченный вход) требует одной подписи, и не важно, какой конструкцией вы пользуетесь  
_**\<sarang>**_ переход от 11-MLSAG к ~ 32-Triptych не приведет к изменению размера подписи  
_**\<sarang>**_ но поспособствует более быстрой проверке  
_**\<binaryFate>**_ действительно впечатляет  
_**\<cankerwort>**_ Это потрясающие улучшения! Но насколько я понял, мы рассматриваем возможность реализации не только Triptych, верно?  
_**\<sarang>**_ имеющиеся данные о размере являются окончательными  
_**\<sarang>**_ Triptych (и все другие конструкции следующего поколения) требуют надлежащей модификации образов ключей, которые, в свою очередь, требуют новых инженерных исследований в области multisig  
_**\<sarang>**_ что весьма нетривиально  
_**\<seddd>**_ извините, что так поздно, я как раз заканчиваю обзор документа CLSAG, и отправлю свои результаты проверки Сарангу, как только закончу, а так больше ничего нового нет :)  
_**\<sarang>**_ Спасибо, seddd, очень ценю  
_**\<cankerwort>**_ seddd = surae?  
_**\<seddd>**_ +1  
_**\<seddd>**_ отнюдь нет, cankerwort  
_**\<sarang>**_ и еще ledger/trezor уже заканчивают работу над реализацией поддержки CLSAG  
_**\<seddd>**_ (surae намного умнее)  
_**\<sarang>**_ cslashm сделал PR, который будет включен в тестовую ветку  
_**\<sarang>**_ и еще Ledger готовят PR для добавления поддержки их новой прошивки  
_**\<cankerwort>**_ Приятно слышать, что аппаратные кошельки весьма активны в плане работы, а не как биржи и сервисы в недавнем сценарии с переходом на подадреса  
_**\<seddd>**_ да, я еще не проверил все изменения от ledger, да и до PR от cslashm еще не добрался  
_**\<sarang>**_ да, вы правы, очень приятно, что ledger/trezor так быстро отреагировали  
_**\<sarang>**_ да и сама идея заключалась в том, чтобы управиться до обновления сети  
_**\<sgp>**_ действительно классные цифры  
_**\<sarang>**_ вот так и выглядит мой отчет: ускорение BP, новые данные Triptych, CLSAG для аппаратных устройств  
_**\<sarang>**_ есть еще вопросы на представленные мной темы?  
_**\<sgp>**_ Числа *весьма* похожи на Arcturus?  
_**\<sgp>**_ в смысле единственные различия, это пакетные данные  
_**\<cankerwort>**_ кто такой Arcturus?  
_**\<sarang>**_ это я переименовал Triptych-2, чтобы уменьшить путаницу, да и работает он совсем по-другому  
_**\<sarang>**_ и меня ужасно раздражало его название - Triptych-2  
_**\<cankerwort>**_ Понял и простил  
_**\<sarang>**_ у меня вообще проблема с придумыванием названий :/  
_**\<sarang>**_ в любом случае, чтобы ответить на вопрос sgp  
_**\<sarang>**_ в Arcturus реализовано лучшее масштабирование размеров  
_**\<sarang>**_ да и время проверки будет весьма близко к значениям Triptych  
_**\<sgp>**_ да, мне тоже нравятся имеющиеся цифры  
_**\<ArticMine>**_ все, что получается уменьшить в размерах, автоматически становится лучше  
_**\<sarang>**_ в Arcturus вам нужно только одно доказательство / подпись на каждую транзакцию, а не на каждый вход, как обычно  
_**\<Isthmus>**_ ВоооООооОУ!  
_**\<sarang>**_ *Магия* повторного использования генератора подразумевает, что проверка будет аналогичной (если вы используете для сравнения общие наборы анонимности с Triptych)  
_**\<sarang>**_ (именно из-за этого я и переименовал его)  
_**\<sarang>**_ тем не менее имейте в виду, что Arcturus полагается на нестандартное допущение твердости  
_**\<ArticMine>**_ есть ли недостатки?  
_**\<sarang>**_ ^^  
_**\<cankerwort>**_ Планируется ли дополнительная проверка или аудит CLSAG? Насколько я понял, он будет добавлен в следующий хардфорк?  
_**\<sarang>**_ это только мое понимание и видение  
_**\<sarang>**_ (но это не мое решение)  
_**\<binaryFate>**_ Саранг, что ты думаешь по поводу того, как решить проблему multisig без использования примитивов?  
_**\<sarang>**_ Насколько я знаю, нам нужна поддержка общих групп RSA для правильной конструкции multisig следующего поколения  
_**\<sarang>**_ только в плане подписи, а не проверки  
_**\<sarang>**_ (несмотря на то, что это группы RSA, проблем с доверенными настройками нет)  
_**\<binaryFate>**_ вы уверены, что это именно требование, а не просто отсутствие альтернативы, как обойтись без них?  
_**\<UkoeHB>**_ О! Я сделал небольшую рецензию в теме multisig: https://github.com/monero-project/research-lab/issues/72  
_**\<sarang>**_ ну, в любом случае мы должны использовать гомоморфную схему с открытым ключом, которая может использовать произвольные группы простого порядка  
_**\<sarang>**_ это ссылки на код и описание, которое я разработал  
_**\<UkoeHB>**_ верно ^  
_**\<sarang>**_ Paillier шифрование, как оказалось, не требуется  
_**\<sarang>**_ но вам обязательно понадобиться аддитивно-гомоморфная схема  
_**\<sarang>**_ во всяком случае, я и так занял много времени на этой встрече  
_**\<sarang>**_ что у вас было интересного и чем бы вы хотели поделиться?  
_**\<TheCharlatan>**_ Я сделал Rust PoC для добавления времени блокировки и обязательств в транзакции. PoC создает транзакции и проверяет их с помощью подписи CLSAG и механизма времени блокировки, как описано в схеме DLSAG. К дополнительным требованиям относятся: обязательство входа и выхода, вспомогательное (фиктивное) время блокировки открытого текста, образ времени блокировки и подтверждение диапазона  
_**\<TheCharlatan>**_ и увеличение размера подписи, вопреки *слепому* описанию времени блокировки в DLSAG. Также я думаю, мы можем сэкономить на проверке диапазона времени блокировки выходных данных транзакции, следовательно, основной компонент является дополнительным доказательством диапазона. Еще у меня состоялась дискуссия об объединении доказательства диапазона и времени блокировки во всех входных данных транзакции, с тем отличием, что здесь потребуется подтверждение диапазона суммы в выходных данных  
_**\<TheCharlatan>**_ и еще суть совета от Саранга заключается в том, что в транзакциях с большим количеством выходов и входных данных проверка совокупного диапазона будет непомерно медленной  
_**\<seddd>**_ о как, отличные новости!  
_**\<sarang>**_ TheCharlatan: что, в свою очередь, добавит 32 байта на подпись  
_**\<sarang>**_ из-за использования дополнительного тега с описанием ссылки  
_**\<TheCharlatan>**_ Блин! Точно! Я не включил теги в описание :p  
_**\<sarang>**_ 32 байта весьма достойный показатель  
_**\<sarang>**_ и учтите тот факт, что основной ущерб в этом случае возьмет на себя время проверки  
_**\<sarang>**_ у меня даже есть тестовая ветка CLSAG, которая показывает разницу  
_**\<sarang>**_ (но, к сожалению, я не помню цифр тестов)  
_**\<sarang>**_ TheCharlatan: Ваш код общедоступный?  
_**\<TheCharlatan>**_ Да: https://github.com/TheCharlatan/rs-xmr-cryp/tree/master/timelock  
_**\<sarang>**_ и еще обратите внимание, что Triptych может быть легко расширен для добавления поддержки конструкций по типу d-LRS, как в CLSAG  
_**\<sarang>**_ отлично, спасибо!  
_**\<seddd>**_ TheCharlatan: это потрясающе! В эту субботу я тоже собирался переносить код CLSAG в Rust  
_**\<sarang>**_ есть еще одна реализация CLSAG в rust  
_**\<sarang>**_ https://github.com/crate-crypto  
_**\<seddd>**_ так мило! спасибо, Саранг :)  
_**\<sarang>**_ (но я не говорил вам про это)  
_**\<seddd>**_ конечно, спасибо за ссылку :)  
_**\<TheCharlatan>**_ Реализация crate-crypto выглядит намного приятнее  
_**\<sarang>**_ TheCharlatan: что в данный момент нам было бы полезнее всего от этой рабочей группы?  
_**\<TheCharlatan>**_ я не вижу кода проверки для bulletproof. Мне нужно пересмотреть всё это еще раз  
_**\<sarang>**_ Хорошо, отлично, рад был помочь  
_**\<sarang>**_ (вероятно, что лучше всего обсудить дополнительные моменты после окончания официальной части встречи)  
_**\<TheCharlatan>**_ да :)  
_**\<sarang>**_ Спасибо, TheCharlatan  
_**\<sarang>**_ ОКей, мы только что прошли часовую отметку  
_**\<sarang>**_ Давайте перейдем к КЛЮЧЕВЫМ МОМЕНТАМ  
_**\<sarang>**_ над чем участники нашей группы планируют работать на этой неделе?  
_**\<sarang>**_ я планирую завершить финальные штрихи для оптимизации кода Triptych  
_**\<sarang>**_ и интеграцию кода CLSAG для аппаратных устройств  
_**\<sarang>**_ прочие участники?  
_**\<UkoeHB>**_ Я думаю, что займусь кратким изложением принципов атаки Януса c тегом view и полем extra, ну и, кончено же, обновлением пакетирования  
_**\<UkoeHB>**_ в общем обновлением информации  
_**\<seddd>**_ а я займусь завершением аудита CLSAG и подготовлю соответствующий отчет  
_**\<sarang>**_ отличные планы  
_**\<seddd>**_ _уступает слово UkoeHB_  
_**\<sarang>**_ Какие-нибудь заключительные вопросы или комментарии перед тем, как мы закончим?  
_**\<UkoeHB>**_ ArticMine: кстати, что с вашим предложением?  
_**\<binaryFate>**_ блин! так много всего крутого и интересного! прямо как подарок на рождество!  
_**\<asdc_ccc>**_ ^  
_**\<ArticMine>**_ я все еще работаю над описанием платной части  
_**\<sarang>**_ Хорошо, мы заканчиваем! Спасибо всем за участие!  
_**\<sarang>**_ Журнал будет опубликован в ближайшее время  
_**\<sarang>**_ Обсуждения могут продолжаться :)  

---  

_Источник: [Research meeting: 15 April 2020 @ 17:00 UTC #454](https://github.com/monero-project/meta/issues/454)_  

_Перевод: [Unholy](https://t.me/UnholyKnight)_  
_Коррекция: [Kukima](https://t.me/Kukima)_  
