---
title: "Разработка доказательств участия на основе полного блокчейна"
date: "2024-04-27"
categories:
  - "Новости"
tags:
  - "FCMP"
thumbnail: ""  
lead: "CCS проект по разработке доказательства участия на базе полного блокчейна успешно профинансирован"
pager: true
toc: true
sidebar: "right"
widgets:
  - "recent"
  - "taglist"
---

_Автор: Люк 'Kayaba' Паркер_
_27 апреля 2024 г._

Доказательства участия на основе полного блокчейна как концепция призваны заменить используемые в рамках протокола Monero кольца. Несмотря на то, что кольца обеспечивали приватность отправителей Monero с самого момента запуска, они уязвимы для таких атак, как [атака EAE](https://www.youtube.com/watch?v=iABIcsDJKyM&list=PLsSYUeVwrHBnAUre2G_LYDsdo-tD0ov-y&index=9&pp=iAQB), [создают сложности с точки зрения реорганизации блокчейна](https://www.youtube.com/watch?v=6CVcirD90pg&list=PLsSYUeVwrHBnAUre2G_LYDsdo-tD0ov-y&index=4&pp=iAQB) и в целом позволяют проводить статистический анализ (что некоторым образом нивелируется за счёт распределения, обеспечиваемого алгоритмом выбора ложных выходов). Доказательства участия на основе полного блокчейна позволяют доказать, что потраченный выход является одним из всех выходов, имеющихся в блокчейне, и таким образом эффективно устраняют все указанные риски. Это означает, что каждый вход берётся из анонимной группы, включающей в себя от 16 до 100 000 000 выходов.

Было выдвинуто два предложения, направленных на обеспечение именно такого уровня приватности, и оба носили название «доказательств участия на основе полного блокчейна» (далее в тексте обозначены как FCMP — сокращение от Full-Chain Membership Proofs). Первое предложение было озвучено на конференции [MoneroKon в 2023](https://www.youtube.com/watch?v=vrCAiLPfXlg) году и, как предполагалось, должно было быть реализовано в рамках обновления протокола [Seraphis](https://www.getmonero.org/2021/12/22/what-is-seraphis.html) или сразу после него. Seraphis разделяет понятия «участия», когда выход, который тратится, является одним из некоторого набора выходов, и «авторизации траты», когда такой выход авторизован обладателем закрытого ключа. Благодаря этому появилась возможность реализации гораздо более эффективных доказательств участия, включая «доказательства Грутля», которые были предложены изначально и, по сути, предполагали использование кольца из 128 выходов. FCMP полужили дальнейшим усовершенствованием данной концепции и потребовали её развёртывания в рамках нового формата ключей/транзакций Seraphis.

Второе предложение появилось в марте 2024 года как реакция на спам-атаки, происходившие в то время. Доказательства FCMP+SA+L, название которых позднее было сокращено до FCMP++, добавляли свойства авторизации трафика (SA) и связываемости (L), устраняя тем самым зависимость от Seraphis. В ходе дальнейших исследований и разработки выяснилось, что в протокол Monero можно добавить несколько новых функций, не требующих перехода на Seraphis. Среди этих функций указывались следующие:

* Построение цепочек транзакций (Transaction Chaining)

Построение цепочек транзакций позволяет подписывать транзакцию, в которой расходуется другая транзакция, до того, как транзакция траты будет опубликована и добавлена в блокчейн. Это позволяет реализовать в Monero некоторые конструкции второго уровня (например, протоколы платёжных каналов).

* Ключи просмотра исходящих транзакций (Outgoing View Keys)

Ключи просмотра исходящих транзакций позволяют любому, кто имеет такой ключ, определить, когда были потрачены полученные выходы. В настоящее время Monero позволяет использовать только ключи просмотра входящих транзакций, используемые для обнаружения трат с более высокой вероятностью, если сравнивать с текущим протоколом. Но они также не дают 100% уверенности. Такая уверенность сделает работу с холодными кошельками и кошельками, поддерживающими схему мультиподписи, гораздо более эффективной, поскольку использовать закрытый ключ онлайн придётся гораздо реже. Это также позволит определить единый «ключ просмотра», без разделения на «входящие» и «исходящие» транзакции, что упростит процесс взаимодействия пользователя с кошельком.

* Опережающий уровень секретности (Forward Secrecy)

Опережающий уровень секретности означает, что злоумышленник, использующий оракул для решения задачи дискретного логарифмирования, например злоумышленник с квантовым компьютером, не сможет нарушить приватности, обеспечиваемой протоколом.

Несмотря на то, что Seraphis вводит все эти функции, это предполагает переход к использованию анонимной группы и адресов нового формата. При этом все предыдущие адреса аннулируются. Целью доказательств FCMP++ является не только более быстрое развёртывание, но и отсутствие необходимости в переносе. Однако это можно сделать и не реализуя ни одну из этих функций непосредственно при запуске.

Развёрнутый протокол будет поддерживать все эти функции. Но код кошелька сможет использовать все эти преимущества с некоторой задержкой, что позволит свести масштаб изменений к минимуму и в кратчайшие сроки достичь максимальной цели — полной приватности отправителя. После кошельки смогут начать использовать эти возможности в свои собственные сроки, без необходимости в проведении сложных форков и каких-либо проблем, связанных с приватностью. Скорее всего, это будет сделано путём слияния кодовой базы Seraphis с Monero, что позволит воспользоваться преимуществами многолетней разработки и хорошо продуманного решения. При этом переход на новые структуры ключей будет необязательным, и в этом случае усилия, вложенные в разработку FCMP, упростят большую часть работы по внедрению FCMP в рамках Seraphis.

В основе доказательств FCMP++ лежат [деревья эллиптических кривых](https://eprint.iacr.org/2022/756), а, чтобы сделать общее доказательство ещё более эффективным, [Иген работает над делителями эллиптических кривых](https://eprint.iacr.org/2022/596). Уже была в целом определена [общая структура](https://github.com/kayabaNerve/fcmp-ringct/), которая в настоящее время анализируется и уточняется по мере необходимости. [Разработка структуры была профинансирована](https://ccs.getmonero.org/proposals/fcmp++-development.html), и в настоящее время [продолжается сбор средств на анализ и аудит академическим сообществом](https://ccs.getmonero.org/proposals/fcmp++-research.html). Если вы являетесь членом академического сообщества и заинтересованы в участии, пожалуйста, свяжитесь с представителями [Исследовательской лаборатории Monero через каналы IRC или Matrix](https://www.getmonero.org/community/workgroups/).

---

_Источник: [Full-Chain Membership Proofs Development](https://www.getmonero.org/2024/04/27/fcmps.html)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
