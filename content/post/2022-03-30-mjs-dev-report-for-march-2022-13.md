---
title: "Отчёт mj за март по разработке и интеграциям"
date: "2022-03-30"
categories:
  - "Новости"
tags:
  - "CCS"
lead: "Ежемесячный отчёт mj в ключе работы над его CCS предложением."
pager: true
toc: false
sidebar: "right"
widgets:
  - "recent"
  - "taglist"
---

_Уважаемое сообщество!_

В конце февраля наблюдалась некоторая турбулентность, и я даже не был уверен, смогу ли продолжить работу, поскольку [моё предложение](https://www.reddit.com/r/Monero/comments/st9ko5/mjs_part_time_coding_2022_q2/) не было готово к финансированию вплоть до [17-го марта](https://www.reddit.com/r/Monero/comments/tg5wl9/mjs_march_to_may_maintenance_proposal_is_ready/). В нём я обещал приступить к работе 1 марта, и я так и сделал, несмотря ни на что. Я счастлив, что мне удалось укрепить вашу веру в меня, так как я принялся за работу ещё до того, как началось финансирование. Ведь я мог воспользоваться временем и сделать несколько улучшений по различным фронтам. Я намеренно распределяю силы по разным фронтам. Это позволяет избежать ситуаций подобной той, в которую я попал со своим «Предложением по наведению порядка», в результате которого пул-реквест пришлось наводнить огромным количеством однотипных PR. Мы справились с этой проблемой, и теперь благодаря точному автоматическому генерированию отчётов я могу залечить раны подобного рода, которые, на мой взгляд, будут особо болезненными.

Чтобы понять контекст задач, связанных с наведением порядка, рекомендую прочитать [статью John_r365](https://resilience365.com/interview-with-mj-xmr/) (если вы этого ещё не сделали). Сгенерированный мной отчёт можно найти [здесь](http://cryptog.hopto.org/monero/health/).

Но сначала давайте рассмотрим некоторые странности предложения, с которыми удалось поработать.

## _Контрольные испытания tsqsim_

Во время последней встречи сообщества, которая состоялась [13-го февраля](https://libera.monerologs.net/monero-community/20220213), меня попросили провести контрольное тестирование написанного ранее и адаптированного [в рамках прошлого предложения](https://www.reddit.com/r/Monero/comments/qqx4vd/ccs_mjs_part_time_dev_for_q4_2021_a_simulator_for/) для Исследовательской лаборатории Monero инструмента [tsqsim](https://github.com/mj-xmr/tsqsim) (соответствующий отчёт по tsqsim можно найти по [этой	ссылке](https://www.reddit.com/r/Monero/comments/sfs195/mjs_dev_report_2022_jan/)). [Результаты доказывают](https://www.reddit.com/r/Monero/comments/tl5w1b/tsqsims_benchmark_new_tool_designed_for_monero/), что пока наша цель состоит, по крайней мере, в работе в подвижном окне с временным интервалом, составляющим 1 секунду, родной вариант реализации на C++ превосходит варианты, написанные на Python, примерно в 80 раз. Почему подвижное окно с дельта временем 1 такт является нашей целью? Да потому что такая настройка обеспечивает наиболее объективный взгляд на то, как система поведёт себя в условиях реального времени, обучаясь с каждым временным интервалом.

При тех же самых условиях у конструкции с GPU, скорее, не будет ни единого шанса выиграть у родного варианта реализации, поскольку каждый такой временной шаг будет означать переучивание модели, что равносильно копированию данных в RAM GPU, что традиционно было «узким местом» выполнения операций с помощью GPU. GPU может переиграть родной вариант реализации лишь в одной ситуации, если конструкция с GPU будет иметь собственную версию функции подвижного окна (которой можно будет доверять). И как бы я не хотел доказать или опровергнуть это, мне пришлось сдаться, так как правильная установка конструкции с GPU — это больше искусство, нежели наука, и это предложение не имеет ничего общего с tsqsim.

Тема тестирования GPU предполагает наличие некоторого противоречия, речь о котором пойдёт в следующем параграфе. Пожалуйста, ознакомьтесь с ним только в том случае, если у вас есть время на брошенного мамой ребёнка, который докучал мне и моим друзьям из проекта Monero. И тут речь идёт в том числе и о сексуальных домогательствах.

## _(анти-)социальные дела_

Прежде всего, я считаю, что в каждом сообществе должны быть люди, перед которыми будут отчитываться все остальные. Но это должно делаться цивилизованным образом. После того как я уже начал зарабатывать Monero, занимаясь работой в соответствии с моими предложениями, я подвергался нападкам со стороны людей, демонстрировавших одинаковые поведенческие шаблоны. Вот наиболее характерные примеры.

### _GitLab_

Примерно в то же время, когда решалось, включать моё предложение в список финансируемых работ или нет,  [@ww попытался](https://repo.getmonero.org/monero-project/ccs-proposals/-/merge_requests/287#note_15379) лишить меня финансирования, после чего я вынужден был бы работать половину месяца бесплатно. Все его попытки оказались тщетными, и он сдался, обозвав меня паразитом.

На ум приходят умные слова, связанные с тем, как он решал бы проблемы, если бы нашёл в себе мужество сделать что-то продуктивное и взять на себя какую-то ответственность, и это военная цитата, принадлежащая Томасу Пейну: «Веди, следуй или убирайся с дороги!» Тут следует отметить, что идеальные решения, идеальные, по крайней мере, настолько, насколько их хочет видеть отдельно взятый человек, невозможны во время командной работы, в рамках которой приходится учитывать мнение каждого участника и идти на компромисс. Так уж выходит, брат, что это не моя, но и не твоя вечеринка.

### _Reddit_

После того как петрушка под ником bigbklynballs (хм...) сделал запрос о проведении контрольных испытаний  tsqsim, чтобы сравнить инструмент [со ВСЕМИ десятью альтернативными концепциями](https://libera.ems.host/_matrix/media/r0/download/libera.chat/ffa8bb5c2f97fd1ff5b9990a70f139ad96586270) (самая та задача, чтобы сообщество потратилось на её решение!), и настаивал на тестировании решения на базе GPU, мною было принято решение ограничить количество сравнений и сэкономить средства сообщества, поработав только с двумя альтернативными концепциями, отказавшись по той же причине от сравнения с концепцией на базе GPU. Тогда уже другой петрушка того же типа, OK_Plankton (ещё один великолепный ник), попытался подобным образом [протолкнуть тестирование GPU, но попал в мою ловушку](https://www.reddit.com/r/Monero/comments/tl5w1b/tsqsims_benchmark_new_tool_designed_for_monero/i23gmdq/?context=8&depth=9), в которую мне удалось его заманить, притворившись жертвой. Уже попав в ловушку, но не осознавая этого, он захотел злоупотребить своим положением и [попытаться манипулировать мнением "прессы", выступив ПРОТИВ контрольных испытаний tsqsim](https://www.reddit.com/r/Monero/comments/tl5w1b/tsqsims_benchmark_new_tool_designed_for_monero/i1v9az0/). Но теперь он уже говорил, что контрольные испытания в принципе не являются приоритетной задачей (даже не попытавшись отказаться от прошлой позиции), да и вообще разработка tsqsim была ошибкой. Он также поставил под вопрос легитимность u/Rucknium, пытающегося всеми силами исправить всё, что можно, но не может клонировать себя самого. Он потребовал от Ruck-а ответить на те вопросы, ответ на которые можно было бы получить только ПОСЛЕ завершения исследований. По сути, так происходит в случае со всеми исследованиями. Обязательно прочитайте, как спокойно отвечал ему Ruck. Должен отметить, что у этого парня невероятный запас терпения в отношении отсталых.

### _Вывод_

Чтобы сэкономить своё драгоценное время с этого момента, я не буду отвечать на глупые вопросы пользователей, не имеющих положительной истории в сообществе Monero: либо кармы Reddit, либо коммитов на GitHub или чего-то подобного, что доказывало бы наличие некоторых заслуг. Я буду отправлять всяких петрушек в этот раздел, чтобы напомнить о травме, полученной в результате отказа.

Я даже некоторым образом счастлив, что весь яд был потрачен на меня, и мне удалось в конечном счёте загнать его обратно в подвал его мамочки. Дела могли обернуться иначе, напади он на более молодых пользователей, не имеющих опыта общения социопатами. Кроме всего прочего, сообщество Monero оказало мне широкую поддержку как в публичном пространстве, так и в частном порядке.

Думаю, что на этом всё, парень, живущий на социальное пособие. Если бы я не знал, что ты просто отвергнутый всеми ребёнок, я бы заподозрил, что ты заслан к нам и оплачен какой-то третьей стороной, желающей уничтожить Monero. Сначала вырасти и создай хоть что-то полезное в своей жизни.

А теперь давайте оставим эту тему и вернёмся к реальным делам.

## _Больше документации для новых разработчиков_

Я запустил и уже закрыл голосование в отношении [документирования IDE](https://www.reddit.com/r/Monero/comments/t9iy3b/poll_what_ide_would_you_like_to_have_documented/), убедившись одновременно, что [данный запрос PR будет включён](https://github.com/monero-project/monero/pull/7675), что потребует выделения определённых ресурсов сервера GitHub всякий раз, когда изменения будут вноситься в документацию (в том числе в мою). В результате голосования определился следующий порядок документирования IDE:

- VSCodium
- CLion
- Qt Creator
- Eclipse CDT (возможно)

Благодарю всех за участие.

## _Привлечение и помощь новым разработчикам_

1 марта я выразил готовность помогать новым потенциальным разработчикам в комнате для набора персонала Monero в Matrix. Спустя примерно 20 дней относительного затишья я пришёл к выводу, что недостаточно просто сказать студентам: «Я здесь и готов помочь. Свяжитесь со мной, если вам понадобится что-либо». Поэтому я заранее представил два проекта. Один из них довольно быстро был поддержан экспертом по майнингу Monero, Endor. Я бы сказал, что он прекрасно подходит для этого. Мы уже составили [согласованное предложение](https://www.reddit.com/r/Monero/comments/tont5q/new_ccs_proposal_soloptxmr_solar_optimal_mining/), и оно готово для рассмотрения. Мы будем поддерживать друг друга по мере наших возможностей. Я рекомендую прочитать эти [ценные комментарии](https://repo.getmonero.org/monero-project/ccs-proposals/-/merge_requests/299#note_15567), оставленные [u/OrneryMaintenance](https://www.reddit.com/u/OrneryMaintenance/), работавшим непосредственно в этой сфере.

Скоро на Reddit мной будет предложен и второй проект. Это произойдёт, как только сообщество рассмотрит первый. Второй проект требует проведения некоторых предварительных исследований, поэтому я не буду создавать предложение, не буду участвовать в реализации, но я готов бесплатно помочь любому, кому понадобится помощь с составлением предложения или составлением концепции. Проект касается отправки транзакции Monero посредством mesh-сети, где их будет сложно обнаружить.

## _Вопросы пользователей_

Пока мною был найден [один вопрос](https://github.com/monero-project/monero-gui/issues/3727), соответствующий моим навыкам. Он связан с улучшением структурирования файлов и директорий Monero в соответствии с определёнными критериями. То есть все конфигурационные файлы должны храниться в директории ~/.config/Monero, а все данные в ~/.local/share/Monero. Я касаюсь этой проблемы в этом [обратно совместимом PR](https://github.com/monero-project/monero/pull/8202), который будет обсуждаться на встрече разработчиков, если для этого останется достаточно времени.

## _Ветви_

Ниже приводится традиционный список уже включённых и вновь созданных ветвей.

### _Новые ветви_

- [Время компиляции: cryptonote_core минус заголовок portable_storage](https://github.com/monero-project/monero/pull/8205). Простое изменение двух строк кода (и добавление одной пустой, если быть честным :>). Результатом является сокращение времени компиляции примерно на 1%.
- [Время компиляции: http_client.h -> abstract_http_client.h](https://github.com/monero-project/monero/pull/8200). Это изменение немного больше, но обеспечивает сокращение времени компиляции примерно на 10%, что в той или иной степени подтверждается рецензентами.
- [CMake: добавление отсутствующих заголовков при помощи макроса monero_find_all_headers](https://github.com/monero-project/monero/pull/8207). Я заметил, что в файлах сборки стало отсутствовать больше заголовков (Makefile). Добавление макроса в этот проект сокращает скрипты сборки (CMakeLists.txt) и гарантирует, что все заголовки будут учтены.
- [CMake (GUI): более чёткое разделение библиотеки и исполняемого кода](https://github.com/monero-project/monero-gui/pull/3858). Я смещаю своё внимание на [многочисленные PR, связанные с Monero GUI](https://github.com/monero-project/monero-gui/pulls). Чтобы сопровождать свой анализ надлежащим тестированием, мне бы для начала хотелось немного подготовить своё рабочее место и улучшить CmakeLists.txt GUI, чтобы он соответствовал ключевым стандартам. Но это может занять некоторое время. Это будет первый этап работы.

### _Минимальные изменения_

- [Авторские права: обновление до версии 2022](https://github.com/monero-project/monero/pull/8197). С помощью [общедоступного собственноручно разработанного скрипта](https://github.com/mj-xmr/monero-mj/blob/copyright-year-script/utils/update_year_copyright.py) я обновил уведомление об авторском праве в 695 файлах, в то время как [прошлая попытка обновления в 2021](https://github.com/monero-project/monero/pull/7495) позволила обновить всего 669 файлов.
- [Doc (GUI): Минимизация зависимостей boost в README.md](https://github.com/monero-project/monero-gui/pull/3851). То же самое, что в случае с минимизацией зависимостей Core Boost с целью облегчения работы мейнтейнеров пакетов и сокращения используемого дискового пространства у пользователей.

## _Заключение_

Я благодарен всем братьям и анонимам за финансирование моего предложения, несмотря на ранее невиданные попытки саботажа. Я рад, что нас так много и вместе мы являемся решающей силой, а также что так много согласных со мной людей и что мы в состоянии оставить всяческие детские игры в песочнице.

---

_Источник: [mj's dev report for March 2022 (1/3)](https://www.reddit.com/r/Monero/comments/ts5fgg/mjs_dev_report_for_march_2022_13/)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
